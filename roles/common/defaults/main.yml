---

# we do not use ansible_managed, because it internal variables are not overwritable
# with ansible < 2.19
managed_by_ansible: "{{ ansible_managed | default('This file is managed by Ansible') }}"
ansible_pip_venv: ansible
python_venv_parent: "{{ ansible_env.HOME }}/.venvs"

# see https://docs.ansible.com/ansible/latest/collections/ansible/posix/sysctl_module.html#parameter-sysctl_file
common_sysctl_file: /etc/sysctl.d/90-ansible.conf

# root path of all installations
srv_path: /srv

# Directory, which is used for downloading software packages
software_path: '{{ srv_path }}/software'
# software_path_owner:
# software_path_group: "{{ software_path_owner | omit }}"
# software_path_mode:

nginx_user: www-data
nginx_group: www-data

# Global nginx SSL configuration
# Set to false to disable SSL globally for all services
# Per-service roles will auto-detect SSL based on their configuration if not explicitly set
nginx_with_ssl: true

# set no_log (e.g. for passwords used)
hide_sensitive_data: true

common_packages:
  - curl
  - python3-debian

# required globally for mysql auth_socket support
# caching_sha2_password or auth_socket
mysql_root_plugin: caching_sha2_password
mysql_socket: /run/mysqld/mysqld.sock

nginx_ssl_listen_option: "ssl{{ ' http2' if ansible_facts.distribution != 'Debian' or ansible_facts.distribution_major_version != '13' else '' }}"

# Static error pages for 403 and 502 errors
nginx_template_error_handler_static: |
  error_page 403 /403.html;
  location = /403.html {
    root {{ nginx_error_pages_path }};
  }
  error_page 502 /502.html;
  location = /502.html {
    root {{ nginx_error_pages_path }};
  }
